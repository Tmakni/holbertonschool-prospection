<!doctype html>
<html lang="fr" dir="ltr">
  <head>
    <!-- Charset & Viewport -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Primary Meta Tags -->
    <title>Prospection IA — Générateur de messages B2B personnalisés</title>
    <meta name="description" content="Prospection IA génère des messages de prospection B2B personnalisés (email, LinkedIn) à partir de vos listes de contacts. Import CSV, modèles dynamiques, et IA pour booster vos réponses." />
    <meta name="theme-color" content="#0ea5e9" />

    <!-- Canonical -->
    <link rel="canonical" href="https://prospection-ia.example.com/" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://prospection-ia.example.com/" />
    <meta property="og:title" content="Prospection IA — Générateur de messages B2B" />
    <meta property="og:description" content="Importez vos contacts, choisissez un modèle, générez des messages personnalisés avec l'IA." />
    <meta property="og:image" content="/assets/og-cover.jpg?v=1732636800" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Prospection IA — Générateur de messages B2B" />
    <meta name="twitter:description" content="Importez vos contacts, choisissez un modèle, générez des messages personnalisés avec l'IA." />
    <meta name="twitter:image" content="/assets/og-cover.jpg?v=1732636800" />

    <!-- Icons -->
    <link rel="icon" href="/favicon.ico?v=1" sizes="any" />
    <link rel="icon" href="/icon.svg?v=1" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png?v=1" />
    <link rel="manifest" href="/site.webmanifest" />

    <!-- Preconnect (API, CDN, Fonts) -->
    <link rel="preconnect" href="https://api.prospection-ia.example.com" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Preload critical resources -->
    <link rel="preload" as="style" href="/assets/app.min.css?v=1732636800" />
    <link rel="preload" as="font" href="/assets/inter-var.woff2" type="font/woff2" crossorigin />

    <!-- CSS (minifié + hash) -->
    <link rel="stylesheet" href="/assets/app.min.css?v=1732636800" />

    <!-- Security (header CSP recommended; meta as fallback) -->
    <meta http-equiv="Content-Security-Policy"
      content="default-src 'self'; connect-src 'self' https://api.prospection-ia.example.com; img-src 'self' data: https:; style-src 'self' 'unsafe-inline'; font-src 'self' data:; script-src 'self' 'unsafe-inline' 'unsafe-eval'; base-uri 'self'; frame-ancestors 'none';" />

  </head>

  <body class="min-h-screen bg-white text-slate-900">
    <header role="banner" class="sticky top-0 z-40 bg-white/80 backdrop-blur border-b">
      <div class="container" style="max-width:1200px;margin:0 auto;padding:0 16px;display:flex;align-items:center;gap:16px;height:64px;">
        <a href="#main" class="skip-link" style="position:absolute;left:-9999px;">Aller au contenu</a>
        <a href="/" aria-label="Accueil Prospection IA" style="display:flex;align-items:center;gap:8px;font-weight:700;">
          <img src="/icon.svg" alt="Logo Prospection IA" width="28" height="28" />
          <span>Prospection IA</span>
        </a>
        <nav aria-label="Navigation principale" style="margin-left:auto;display:flex;gap:16px;">
          <a href="#features">Fonctionnalités</a>
          <a href="#demo">Démo</a>
          <a href="#pricing">Tarifs</a>
          <a href="#contact">Contact</a>
          <!-- CTA : redirige vers la page de connexion plutôt que vers /app -->
          <a href="/login.html" class="btn" style="padding:8px 14px;border-radius:9999px;border:1px solid #e5e7eb;">Se connecter</a>
        </nav>
      </div>
    </header>

    <main id="main" tabindex="-1">
      <!-- Hero -->
      <section style="padding:80px 0;">
        <div class="container" style="max-width:1200px;margin:0 auto;padding:0 16px;display:grid;grid-template-columns:1.1fr 0.9fr;gap:24px;align-items:center;">
          <div>
            <h1 style="font-size:clamp(28px,4vw,48px);line-height:1.1;margin:0 0 12px;">
              Générez des messages de prospection <span style="white-space:nowrap;">B2B</span> qui obtiennent des réponses
            </h1>
            <p style="font-size:18px;color:#334155;margin:0 0 20px;">
              Importez un CSV, choisissez un modèle, laissez l’IA personnaliser chaque message en quelques secondes.
            </p>

            <!-- CTA simplified: redirect to login page -->
            <form id="cta-form" action="/login.html" method="get" style="display:flex;gap:8px;flex-wrap:wrap;align-items:center;">
              <label for="email" class="sr-only">Email</label>
              <input id="email" name="email" type="email" placeholder="Votre email" autocomplete="email" required
                     style="flex:1;min-width:220px;padding:12px;border:1px solid #e5e7eb;border-radius:12px;" />
              <button type="submit" class="btn-primary" style="padding:12px 16px;border-radius:12px;background:#0ea5e9;color:#fff;border:0;">
                Essayer gratuitement
              </button>
            </form>

            <p style="margin-top:8px;font-size:12px;color:#64748b;">Pas de carte bancaire. Version de démonstration incluse.</p>
          </div>

          <div>
            <picture>
              <source srcset="/assets/hero@2x.webp 2x, /assets/hero.webp 1x" type="image/webp" />
              <img src="/assets/hero.jpg" alt="Interface Prospection IA avec import CSV et modèles" width="640" height="420"
                   loading="eager" decoding="async"
                   style="width:100%;height:auto;border-radius:16px;border:1px solid #e5e7eb;" />
            </picture>
          </div>
        </div>
      </section>

      <!-- Features -->
      <section id="features" style="padding:56px 0;background:#f8fafc;">
        <div class="container" style="max-width:1200px;margin:0 auto;padding:0 16px;display:grid;grid-template-columns:repeat(3,1fr);gap:16px;">
          <article>
            <h2 style="font-size:20px;margin:0 0 8px;">Import CSV / Excel</h2>
            <p>Chargez vos contacts, nettoyez les colonnes, détectez automatiquement prénom/nom/société.</p>
          </article>
          <article>
            <h2 style="font-size:20px;margin:0 0 8px;">Modèles dynamiques</h2>
            <p>Variables <code>{{company}}</code>, <code>{{first_name}}</code>, règles de ton et snippets réutilisables.</p>
          </article>
          <article>
            <h2 style="font-size:20px;margin:0 0 8px;">Génération IA</h2>
            <p>Qualité native FR/EN, contrôle du degré de personnalisation, traçabilité des prompts.</p>
          </article>
        </div>
      </section>

      <!-- Démo intégrée : générateur de messages -->
      <section id="demo" style="padding:56px 0;">
        <div class="container" style="max-width:1200px;margin:0 auto;padding:0 16px;">
          <h2 style="font-size:28px;margin:0 0 16px;">Démo — Modèles B2B prêts à l’emploi</h2>
          <p style="color:#334155;margin:0 0 16px;">
            Testez 3 messages inspirés de cas réels. Remplissez le prénom et l’entreprise, choisissez un modèle (ou <em>Aléatoire</em>), puis générez.
          </p>

          <form id="demo-form" style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;max-width:880px;">
            <label style="display:flex;flex-direction:column;gap:6px;">
              <span>Prénom du prospect</span>
              <input id="demo-name" type="text" name="name" placeholder="Thomas" required style="padding:12px;border:1px solid #e5e7eb;border-radius:12px;" />
            </label>
            <label style="display:flex;flex-direction:column;gap:6px;">
              <span>Entreprise</span>
              <input id="demo-company" type="text" name="company" placeholder="StartupX" required style="padding:12px;border:1px solid #e5e7eb;border-radius:12px;" />
            </label>

            <label style="grid-column:1 / -1;display:flex;flex-direction:column;gap:6px;max-width:360px;">
              <span>Modèle</span>
              <select id="demo-template" name="template" style="padding:12px;border:1px solid #e5e7eb;border-radius:12px;">
                <option value="random">Aléatoire</option>
                <option value="1">Créa de contenu</option>
                <option value="2">Montage vidéo (résultats concrets)</option>
                <option value="3">Approche amicale + preuve sociale</option>
              </select>
            </label>

            <div style="grid-column:1 / -1;display:flex;gap:8px;flex-wrap:wrap;margin-top:4px;">
              <button id="btn-generate" type="button" class="btn-primary" style="padding:12px 16px;border-radius:12px;background:#0ea5e9;color:#fff;border:0;">Générer</button>
              <button id="btn-regenerate" type="button" style="padding:12px 16px;border-radius:12px;border:1px solid #e5e7eb;">Régénérer</button>
              <button id="btn-copy" type="button" style="padding:12px 16px;border-radius:12px;border:1px solid #e5e7eb;">Copier</button>
            </div>

            <label style="grid-column:1 / -1;display:flex;flex-direction:column;gap:6px;margin-top:8px;">
              <span>Message généré</span>
              <textarea id="demo-output" rows="8" readonly style="padding:12px;border:1px solid #e5e7eb;border-radius:12px;resize:vertical;"></textarea>
            </label>
          </form>
          <p id="copy-feedback" role="status" aria-live="polite" style="margin-top:8px;font-size:14px;color:#16a34a;display:none;">Copié dans le presse-papiers ✔</p>
        </div>
      </section>

      <!-- Pricing (placeholder) -->
      <section id="pricing" style="padding:56px 0;">
        <div class="container" style="max-width:1200px;margin:0 auto;padding:0 16px;">
          <h2 style="font-size:28px;margin:0 0 16px;">Tarifs simples</h2>
          <p>Démo gratuite, puis packs mensuels adaptés à votre volume d’envois.</p>
        </div>
      </section>

      <!-- Contact -->
      <section id="contact" style="padding:56px 0;background:#f8fafc;">
        <div class="container" style="max-width:1200px;margin:0 auto;padding:0 16px;">
          <h2 style="font-size:28px;margin:0 0 16px;">Contact</h2>
          <form action="https://api.prospection-ia.example.com/contact" method="post" data-enhance="true" style="display:grid;gap:12px;max-width:560px;">
            <label><span>Votre email</span><input type="email" name="email" required autocomplete="email" /></label>
            <label><span>Message</span><textarea name="message" rows="5" required></textarea></label>
            <button type="submit" class="btn-primary" style="padding:12px 16px;border-radius:12px;background:#0ea5e9;color:#fff;border:0;">Envoyer</button>
          </form>
        </div>
      </section>
    </main>

    <footer role="contentinfo" style="padding:24px 0;border-top:1px solid #e5e7eb;">
      <div class="container" style="max-width:1200px;margin:0 auto;padding:0 16px;display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:space-between;">
        <p style="margin:0;font-size:14px;color:#64748b;">© <span id="y"></span> Prospection IA. Tous droits réservés.</p>
        <nav aria-label="Pied de page" style="display:flex;gap:12px;">
          <a href="/mentions-legales">Mentions légales</a>
          <a href="/confidentialite">Confidentialité</a>
        </nav>
      </div>
    </footer>

    <noscript>
      <div role="alert" style="background:#fef3c7;color:#92400e;padding:12px;text-align:center;">JavaScript est désactivé. L’application fonctionnera en mode dégradé.</div>
    </noscript>

    <!-- Conditional loader for the app bundle: only load app.min.js if we're on /app -->
    <script>
      (function(){
        try {
          if (location.pathname === '/app') {
            const s = document.createElement('script');
            s.type = 'module';
            s.defer = true;
            s.src = '/assets/app.min.js?v=1732636800';
            document.body.appendChild(s);
          }
        } catch (e) { console.warn('app loader error', e); }
      })();
    </script>

    <!-- Service Worker (PWA optionnel) -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js').catch(() => {});
        });
      }
      document.getElementById('y').textContent = new Date().getFullYear();
    </script>

    <!-- Lightweight in-page generation logic (demo). Not exported, safe for index -->
    <script>
      // generateMessage (demo) - keep lightweight and non-exported to avoid collisions
      function generateMessageForDemo({ name, company, template = "random" }) {
        const n = (name || '').trim();
        const c = (company || '').trim();
        if (!n || !c) throw new Error('Missing name or company');

        const templates = [
`Salut ${n}, j’espère que tu vas bien !

Je te contacte car j’ai vu ton travail chez ${c}, et je pense qu’on peut aller plus loin sur la partie création de contenu.
On accompagne déjà plusieurs entrepreneurs dans leur stratégie pour booster leur acquisition client.

Tu serais dispo pour un call rapide cette semaine ?`,

`Salut ${n},

Je suis tombé sur ton contenu et je trouve qu’il a un vrai potentiel.
Je travaille avec des profils comme le tien sur le montage & la stratégie vidéo, avec des résultats concrets — pas juste des vues.

On a collaboré avec différents créateurs, et ça pourrait coller avec ton activité chez ${c}.
On en parle ?`
        ];

        let idx;
        if (template === "random") {
          idx = Math.floor(Math.random() * templates.length);
        } else {
          const t = Number(template);
          idx = (t >= 1 && t <= templates.length) ? (t - 1) : 0;
        }
        return templates[idx];
      }

      // UI wiring for demo
      (function(){
        const $name = document.getElementById('demo-name');
        const $company = document.getElementById('demo-company');
        const $template = document.getElementById('demo-template');
        const $output = document.getElementById('demo-output');
        const $btnGen = document.getElementById('btn-generate');
        const $btnRegen = document.getElementById('btn-regenerate');
        const $btnCopy = document.getElementById('btn-copy');
        const $feedback = document.getElementById('copy-feedback');

        function doGenerate() {
          try {
            const msg = generateMessageForDemo({
              name: $name.value,
              company: $company.value,
              template: $template.value
            });
            $output.value = msg;
            $feedback.style.display = 'none';
          } catch (e) {
            $output.value = '⚠️ ' + (e?.message || 'Erreur inattendue');
          }
        }

        $btnGen?.addEventListener('click', doGenerate);
        $btnRegen?.addEventListener('click', () => {
          const prev = $template.value;
          $template.value = 'random';
          doGenerate();
          $template.value = prev;
        });

        $btnCopy?.addEventListener('click', async () => {
          if (!$output.value) return;
          try {
            await navigator.clipboard.writeText($output.value);
            $feedback.style.display = 'block';
            setTimeout(() => ($feedback.style.display = 'none'), 1800);
          } catch {}
        });

        ['demo-name','demo-company'].forEach(id => {
          document.getElementById(id)?.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
              e.preventDefault();
              doGenerate();
            }
          });
        });
      })();
    </script>
  </body>
</html>
